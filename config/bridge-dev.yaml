server:
  listen: "127.0.0.1:9445"

tls:
  ca_bundle: "certs/ca-bundle.crt"
  cert: "certs/bridge.local.crt"
  key: "certs/bridge.local.key"

auth:
  jwt_public_keys:
    - issuer: "dev"
      key_path: "certs/jwt-signing.pub"
  jwt_audience: "bridge"
  jwt_max_ttl: "5m"

sessions:
  max_per_project: 5
  max_global: 20
  idle_timeout: "30m"
  stop_grace_period: "10s"
  event_buffer_size: 10000
  max_subscribers_per_session: 10
  subscriber_ttl: "30m"

input:
  max_size_bytes: 65536

providers:
  claude:
    binary: "./scripts/claude-print.sh"
    args: ["--print", "--verbose"]
    startup_timeout: "30s"
  claude-chat:
    binary: "claude"
    args: []
    startup_timeout: "30s"
    pty: true

allowed_paths:
  - "/home"
  - "/tmp"

logging:
  level: "info"
  format: "json"
